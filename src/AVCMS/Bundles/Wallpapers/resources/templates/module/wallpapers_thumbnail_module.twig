{% set column_size = 12 / columns %}

<div class="row">
    {% for wallpaper in wallpapers %}
        <div class="col-sm-{{ column_size }}">
            <a class="thumbnail clearfix" href="{{ url('wallpaper_details', {slug: wallpaper.slug}) }}">
                <img src="{{ wp_thumbnail_url(wallpaper) }}" width="100%"/>
                <div class="pull-left" style="white-space: nowrap;text-overflow: ellipsis;overflow: hidden;width:100%">
                    {{ wallpaper.name }}
                </div>
                <div class="pull-left">
                    <span class="small">{% include '@Wallpapers/module/wallpaper_module_details.twig' %}</span>
                </div>
            </a>
        </div>

        {% if loop.index % columns == 0 %}
            </div><div class="row">
        {% endif %}
    {% endfor %}
</div>

{% if more_button %}
<div class="row">
    <div class="col-md-12 text-right">
        <a class="btn btn-default" href="{{ more_button.url }}">{{ more_button.label|trans }} <span class="glyphicon glyphicon-chevron-right"></span></a>
    </div>
</div>
{% endif %}
